<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
	<title>3.5. Установка дополнительных загрузочных скриптов</title>
</head>
<link rel="stylesheet" href="../../styles.css">
<body style="margin: 0px 150px 0px 150px">

<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">Настройка Calmira GNU/Linux</th>
</tr>

<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="inittab.html"
accesskey="P">Назад</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Домой</a></td>
<td width="33%" align="right" valign="top"><a href="../packages/index.html"
accesskey="N">Далее</a></td>

</tr>

<tr>
<td width="33%" align="left" valign="top">Настройка inittab</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top">Управление пакетами</td>
</tr>
</table>

<hr align="LEFT" width="100%" />

<h1>3.5. Установка дополнительных загрузочных скриптов</h1>

<p>Пакет <tt>additional-bootscripts</tt> содержит сценарии (скрипты) инициализации, используемые дополнительными пакетами из портов дистрибутива. Предполагается, что вы будете использовать этот пакет вместе с совместимым пакетом <tt>calm-bootscripts</tt>, который установлен по умолчанию. Без <tt>calm-bootscripts</tt> не будет корректно загружаться и функционировать Calmira GNU/Linux.</p>

<p>Рекомендуется хранить архив <tt>additional-bootscripts.txz</tt> с дополнительными загрузочными скриптами ДО конца настройки Calmira для своих нужд. Некоторым пакетам для нормального функционирования требуются эти скрипты. Когда нужно установить загрузочные сценарии для какого-то пакета/порта, просто перейдите в директорию с распакованными скриптами и выполните:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
make install-&lt;имя_пакета/скрипта&gt;
</pre></td></tr></table>

<p>Эта команда установит и натсроит нужные сценарии и создаст нужные ссылки (в случае необходимости). Больше не нужно заморачиваться с самостоятельным написанием скриптов для SysVInit!</p>

<h2>Примеры использования</h2>

<p>В данном разделе будут рассмотрены примеры использования <tt>calm-additional-bootscripts</tt></p>

<p>Для начала требуется скачать нужный пакет (в портах его не может быть в принципе). Важная деталь: это НЕ пакет <tt>calm-bootscripts.txz</tt>, который устанавливается по умолчанию и не подлежит удалению. Это совершенно другой пакет.</p>

<p>Для того, чтобы скачать его, выполните:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
wget https://raw.githubusercontent.com/CalmiraLinux/calm-bootscripts/master/additional/additional-calm-bootscripts.txz
</pre></td></tr></table>

<p>Теперь следует распаковать его и перейти в рабочую директорию:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
tar -xf additional-calm-bootscripts.txz
cd additional-bootscripts
</pre></td></tr></table>

<p><strong><img src="../../pic/note.png" /> ВНИМАНИЕ!</strong></p>

<blockquote><p>Имя распакованной директории будет не <tt>additional-calm-bootscripts</tt>, как ожидалось, а <tt>additional-bootscripts</tt></p></blockquote>

<p>После чего выполняете команду:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
make install-&lt;имя_скрипта/пакета&gt;
</pre></td></tr></table>

<p>Замение <tt>&lt;имя_скрипта/пакета&gt;</tt> на имя того пакета, загрузочные скрипты для которого вам нужно установить. Имена вы можете посмотреть в самОм файте <tt>Makefile</tt>, либо же, если вы устанавливаете какой-либо пакет из системы портов, в файле <tt>setup.html</tt> будут инструкции по доп. настройке пакета. Если там упоминаются дополнительные загрузочные скрипты, то вы можете установить их, заменив <tt>&lt;имя_скрипта/пакета&gt;</tt> на имя того пакета.</p>

<p>Например, для пакета <tt>dhcpcd</tt> из порта <tt>network/connecting/dhcpcd</tt> команда будет выглядеть так:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
make install-service-dhcpcd
</pre></td></tr></table>

<p>В некоторых случаях, название опции будет отличаться. В документации к порту это сказано.</p>

<hr align="LEFT" width="100%" />

<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="inittab.html"
accesskey="P">Назад</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Домой</a></td>
<td width="33%" align="right" valign="top"><a href="../packages/index.html"
accesskey="N">Далее</a></td>

</tr>

<tr>
<td width="33%" align="left" valign="top">Настройка inittab</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top">Управление пакетами</td>
</tr>
</table><br>
</body></html>
