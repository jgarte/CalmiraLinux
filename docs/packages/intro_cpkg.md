# Введение в cpkg

cpkg - написанный с нуля пакетный менеджер для Calmira GNU/Linux. Впервые он вошёл в состав Calmira GNU/Linux 2021.2 на смену менее надёжному и функциональному `cpkgi-tools`. Из состава Calmira LX4 1.0 GNU/Linux он был убран ввиду своей нестабильности, но вернулся в Calmira LX4 1.1.

## Обзор функций

* Установка;
* Удаление;
* Просмотр информации.

Эти 3 функции - основные в любом пакетном менеджере (далее - ПМ). Так же есть несколько дополнительных:

* Создание локального репозитория с пакетами cpkg. Уже неактуально, так как из этого ПМ удалили скачивание пакетов из репозиториев. В следующих релизах это будет удалено.
* Вывод списка установленных пакетов;
* Очистка. Очистка кеша: `/usr/src`, `/var/cache/cpkg/archives`.

Все остальные функции предназначены для разработчиков и не могут быть использованы для работы с пакетами.

## Функции

* `install` - установить пакет;
* `remove` - удалить пакет;
* `info` - просмотр информации о пакете;
* `help` - просмотр справки об использовании.

## Установка пакета

Для того, чтобы установить пакет, введите:

```bash
cpkg install package.txz
```

Для краткости можно заменить опцию `install` на ключ `-i`.

Пакет копируется в `/var/cache/cpkg/archives` и распаковывается там. После чего данные пакета копируются в нужные папки и добавляются в базу данных cpkg.

### Удовлетворение зависимостей пакета

Учитывайте то, что cpkg НЕ обрабатывает зависимости. Он может отображать зависимости определённого пакета, но устанавливать их вы должны сами. cpkg выводит список зависимостей пакета перед тем, как установить его. Без наличия *необходимых* зависимостей пакет не будет работать (либо будет работать некорректно). Так же пакет не будет работать без некоторых *рекомендуемых* зависимостей. *Опциональные* зависимости нужны для добавления каких-либо новых функций в исходный пакет. Если вы не хотите их ставить (или вам они не нужны), то опциональные зависимости можно не устанавливать.

## Удаление пакета

Для удаления выполните:

```bash
cpkg remove package
```

Для краткости можно заменить опцию `remove` на ключ `-r`.

Читается `config.sh` пакета из базы данных cpkg, и на основе данных из этого файла удаляется пакет. После чего он выносится из базы данных cpkg.

## Просмотр информации о пакете

Для того, чтобы узнать версию, сборщика пакета, зависимости и другую информацию, выполните:

```bash
cpkg info package
```

Для краткости можно заменить опцию `info` на `-I`.

## Дополнительная информация

Для просмотра доп. справки выполните:

```bash
cpkg help
```

Для просмотра бОльших технических особенностей и характеристик зайдите в репозиторий cpkg на [GitHub](https://github.com/Linuxoid85/cpkg).

***

[Назад - Введение в порты](intro_ports.md)

[Далее - Создание бинарных пакетов для cpkg](makepkg.md)
