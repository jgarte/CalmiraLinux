    Несколько принципов построения ОС Calmira GNU/Linux.


Автор: Михаил Linuxoid85 Краснов <linuxoid85@gmail.com>

В данной статье пойдёт речь о принципах создания системы Calmira
GNU/Linux. Ни для кого не секрет, что современные дистрибутивы
Linux стали слишком жирными, сложными и медленными, по сравнению
с тем, что было раньше. Раньше -- это конец девяностых - начало
двухтысячных. Конечно, за эти 20-30 лет многое изменилось. Системы
(дистрибутивы Linux) стали более совершенными: более простыми,
надёжными и красивыми. Однако не надо забывать истинное
предназначение ОС -- быть миниатюрной прослойкой между ПК и его
пользователем. Ключевое слово здесь -- миниатюрной. Дистрибутив
должен потреблять минимум ресурсов ПК, чтобы максимум было
доступно для пользовательского ПО. Но дистрибутив, не смотря на
свою миниатюрность, должен отвечать базовым требованиям:
 * быть надёжным и стабильным, а так же быстрым
 * выполнять поставленные пользователем задачи

Из этого следует, что не надо делать максимально маленький
дистрибутив (как, например, Floppinux, который помещается всего
лишь на одну дискету). Система должна быть пригодной для
использования. Например, Calmira GNU/Linux потребляет 25 Мб ОЗУ
и занимает на жёстком диске 1.2 Гб. Конечно, потребление
оперативной памяти во многом зависит от её количества. Например,
на ПК с двухгигабайтной плашкой ОЗУ система потребляет 25 Мб, а
на компьютере с восьмигигабайтной - уже 36. Поэтому при
формировании системных требований дистрибутива используются
усреднённые значения.

Этот документ обязаны прочитать все те, кто хочет войти в команду
разработчиков дистрибутива, либо же хочет сделать его форк.

Особое внимание хочу уделить на третий принцип, в котором описано
самое главное зло - проприетарное и несвободное программное
обеспечение.


------------
  ПРИНЦИП 1. Делайте систему максимально компактной, но чтобы
она оставалась пригодной к использованию.

Несмотря на то, что в персональных компьютерах всё лучше и лучше
их железо - не надо жиреть. Система должна максимально меньше
расходовать ресурсы ПК, но оставаться юзабельной (пригодной к
использованию). Ведь невозможно предугадать, на каком железе
пользователь запустит дистрибутив. Если на мощном железе - хорошо,
у него останется больше ресурсов для запуска тяжеловесного ПО,
такого как игры, IDE, видео- и фоторедакторы, etc. Если же
железо пользователя слабое, то у него останутся ресурсы для
запуска того ПО, которое ему необходимо. А легковесные дистрибутивы
несколько урезаны, да и не очень удобны.

Хотя я (создатель дистрибутива) не всегда следую первому принципу
создания ОС. В Calmira на данный момент ещё есть какое-то число
ненужного мусора, которое можно (даже нужно) окончательно вычистить.

Только представьте - у вас есть старенький компьютер, который ещё
год назад выполнял возложенные на него задачи просто отлично. Но вдруг,
он те же самые задачи начал выполнять медленно, а некоторые вообще
разучился. В чём беда? Только в том, что компьютеры с каждым днём
становятся всё более мощными, а программисты не умеют экономить, и
делают свои программы неоптимизированными, тяжёлыми и жирными. В этом и
беда -- программисты избалованы мощными ПК.

А что же делать тем, у кого не самый мощный компьютер, который выполнял
(и мог бы выполнять!!!) возложенные на него задачи просто отлично, он
надёжный, а выбрасывать его не только жалко, но и расточительно? Вопрос
остаётся в силе.

Теперь про использование опционального софта, который рекомендуется
инсталлировать после установки дистрибутива. Он должен соответствовать
первому принципу.

Включайте в систему только самое необходимое, без чеего пользователь 
обойтись не может. Система не должна представлять из себя швейцарский 
нож. В конце концов - Calmira GNU/Linux старается следовать принципу 
KISS!

Базовая система не должна потреблять более 40 Мб оперативной памяти
и занимать более 1.5 Гб на жёстком диске. Так как всё начинается с
базы. Если бы не было базовой ОС, не было и программ, установленных
на ней. И потребление ресурсов ПК начинается именно с базовой системы.
Поэтому чем меньше ресурсов ПК она потребляет -- тем лучше. На то она
и "базовая", ведь предоставляет минимальный инструментарий, необходимый
для работы всего остального ПО.

Дистрибутив Calmira GNU/Linux с установленным сервером Xorg и
каким-либо оконным менеджером должна потреблять не более 90 Мб ОЗУ и
занимать на жёстком диске не более 1.2-2 Гб. Чем меньше - тем лучше.

В идеале, система Calmira 2021.1 с оконным менеджером Fluxbox потребляла
55-60 Мб ОЗУ. От этого и нужно отталкиваться.

В других случаях, Calmira GNU/Linux не должна потреблять более 512 Мб
оперативной памяти. "Другие случаи" включают в себя:
 * установка рабочего окружения
 * сборка специальной редакции дистрибутива с определённым набором
программного обеспечения

------------
  ПРИНЦИП 2. Делайте систему простой и понятной как для разработчика,
так и для пользователя. Однако, ориентируйте систему на хакера, либо
продвинутого пользователя.

Я (разработчик дистрибутива Calmira GNU/Linux) был вдохновлён
принципом KISS (Keep it simple, stupid!). В переводе с английского
это значит: "Не усложняй, тупица!". То есть, дистрибутив должен быть
простым. Всё должно быть логичным. Да, на первый взгляд, Calmira -
достаточно сложный дистрибутив, но это только на первый взгляд.
Немного разобравшись, понимаешь, что всё достаточно просто. На первый
взгляд, сложность заключается в том, что только конечный пользователь
дистрибутива решает то, каким он должен быть. Только пользователь
решает, что в Calmira устанавливать, а что нет. Кстати, именно из-за
этого в её пакетном менеджере cpkg нет обработки зависимостей.

Помимо этого, Calmira предоставляет пользователю некоторые современные
инструменты взамен старым. Например, ls был заменён на exa. Например.

Однако, если производится замена привычных инструментов на более новые
и функциональные аналоги, либо же полнофункциональные замены, то
следует убедиться в том, что они максимально совместимы с предыдущими
инструментами и не вызовут проблем с использованием у пользователей,
либо же в определённых скриптах и программах. Должен быть обеспечен
либо плавный переход на другой инструмент, либо же максимально
незаметный. Если одно из этих высказываний реализовать невозможно, то
переход не может быть выполнен. Более того, дистрибутив с этими
инструментами не будет пропущен, так как он нарушает второй принцип.

Если обычному пользователю, откровенно говоря, наплевать на
инструменты работы с системой, то продвинутым юзерам и хакерам --
нет. Они работают только с теми инструментами, к которым привыкли,
эти инструменты они хорошо знают. А переучивание вызывает у них
раздражение; помимо этого, переучивание может занять довольно большое
кол-во времени, а если изучать новый инструмент в процессе работы,
можно совершить немало ошибок как в изучении, так и, непосредственно,
в работе.

Защитите дистрибутив от резкого, молниеносного и быстрого перехода с
одних инструментов на другие!

------------
  ПРИНЦИП 3. Обеспечьте свободу пользователю.

Только пользователь должен контролировать поведение ОС, а она, в свою
очередь, должна выполнять то, что решил пользователь. В рамках
разумного. К большому сожалению, большинство современных дистрибутивов
не могут похвастаться свободой действий. Например, Ubuntu, Fedora, etc. 

Помимо свободы действий, есть ещё свобода в ПО. Не включайте в
дистрибутив несвободное и/или проприетарное ПО, ибо это зло. А так же
в Calmira не должно быть никакого ПО с т.н. "тайм-бомбами". Это ПО
оказывается неработоспособным по прошествии некоторого времени. Чтобы
вернуть работоспособность, нужно либо заплатить автору, либо выполнить
какое-либо действие.

Распространение несвободного или проприетарного ПО есть нарушение
программерской этики, а так же -- нарушение свободы пользователя.
Вспомните случай со Столлманом в Карнеги-Меллон. А ведь ему
понадобились исходные коды программы для принтера -- ведь в этой
программе была серьёзная недоработка. И Ричарду нужно было доделать
программу для себя и для МТИ.

Проприетарный софт может следить за пользователем, может удалять
какие-либо данные, либо же производить какие-либо несанкционированные
действия в системе. Из этого следует, что под видом какой-либо
программы ("всего-навсего" проприетарной) вам могут подсунуть вирус.
Остерегайтесь этого.

Несвободный софт создан лишь для насыщения разработчика деньгами, не
более. Несвободный софт прямо-таки требует у пользователя: "заплатите
разработчикам денег, а не то мы сделаем всё возможное, чтобы наша
программа не работала". И ведь вправду - разработчики несвободного софта
делают всё, чтобы пользователь заплатил денег. Они буквально требуют их!
Например, пока пользователь не заплатил разработчикам, урезают
функционал, либо же вообще делают программу неработоспособной,
встраивая в неё т.н. "тайм-бомбы", о чём говорилось ранее.

Сравните определённую программу с рецептом какого-либо блюда. Ведь
эти две вещи предоставляют пошаговые инструкции о том, как достичь
наилучшего результата или желаемой цели. И то, и другое можно без
проблем изменить так, как нужно конечному пользователю. Вы же не
обязаны точно следовать кулинарному рецепту! Вы вправе отбросить
какие-то ингредиенты, либо же добавить чего-либо. Только потому
что вам это надо. Вам либо это нравится, либо необходимо. Так же и
с программой для компьютера. Но самое важное -- то, что и программу,
и рецепт можно очень легко распространять. В случае рецепта,
вам будет достаточно ручки и листа бумаги, чтобы начеркать на нём
этот рецепт и дать своему гостю. А с программами ещё проще - нужно
лишь пару кликов мыши или ввод одной-двух команд на клавиатуре.

В этих двух случаях пользу получают все - и тот, кто поделился, и
тот, кто принял. Первый укрепляет вашу дружбу, либо взаимоотношения
и повышает шансы того, что с ним поделятся так же. А у второго
очень большое преимущество -- он может подстроить программу для
своих нужд. Либо же кулинарный рецепт. В котором, к примеру,
содержатся ингредиренты, которые нельзя употреблять человеку, который
принял этот рецепт. И он без каких либо преград меняет тот
"запрещённый" ингредиент на то, что ему разрешено. И никаких проблем
от этого нет! Либо же, этому человеку не нравится вкус блюда.
Тогда он так же без каких-либо проблем и ограничений меняет, убирает
или добавляет в рецепт какие-то продукты, чтобы блюдо получилось
вкуснее. И ведь тоже самое с программой!

Но есть и обратная ситуация. Когда рецепт закрыт. И вы не можете
узнать, что в него входит. Более того, вы не можете делиться им с
другими людьми! Однако, если вы совершите это, вы станете самым
настоящим вором, пиратом и пипидастром. Это будет очень неприятным.

Вот поэтому стоит остерегаться несвободного и/или проприетарного
программного обеспечения. И никто из команды разработчиков Calmira
GNU/Linux (пока там только я) не допустит попадания проприетарного и
несвободного ПО в состав дистрибутива.


------------
  ПРИНЦИП 4. Не использовать наработки Calmira GNU/Linux во вред.

Наработки дистрибутива Calmira GNU/Linux распространяются под лицензией
GNU GPLv3. И, несмотря на то, что в GNU GPL действительно используется
понятие "свобода", всё-таки, ряд ограничений присутствует и там. Для
того, чтобы понимать, о чём речь, прочитайте эту лицензию самостоятельно.

Так значит ли это, что GNU GPL и этот список принципов можно считать
полностью свободными? Либо же правильно называть лицензию и ПО,
которое распространяется под этой лицензией не свободным, а
условно-свободным? Нет. Давайте отталкиваться от значения слова 
"свобода". Что это? С одной стороны, свобода - это неограниченность
в действиях. Человек или программа может сделать всё, что хочет. А
давайте подумаем. Если бы люди были полностью свободными, то каким
бы был наш мир? Люди моглы бы свободно убивать друг друга, грабить,
причинять увечья. Это ли свобода? Это ли то, что мы обычно 
подразумеваем под словом "свобода"? Наверно, нет. Всё-таки, под
"свободой" мы имеем в виду все действия в рамках разумного. Именно это
и есть свобода. Человек может делать всё, что считает нужным, но только
если это не противоречит или не нарушает писаные и неписаные законы и
принципы.

Тоже самое и с ПО. И Calmira может считаться свободным дистрибутивом
GNU/Linux. Но в рамках дозволенного. И команда разработчиков не
позволит использовать наработки дистрибутива во вред кому-то.

Дистрибутив Calmira GNU/Linux разрабатывается для решения следующих
задач:
 * предоставление пользователям чистой, простой и быстрой системы,
из которой они, впоследствии, соберут то, что хотят
 * предоставление свободного и открытого дистрибутива

Ну а так же, этот дистрибутив создаётся "для души". И создавался с
благими намереньями!


------------
  ПРИНЦИП 5. Делись наработками с сообществом (совет).

Если вы хотите сделать дистрибутив Calmira GNU/Linux лучше, то
обязательно делитесь наработками с его сообществом и командой
разработчиков! Это традиция в мире UNIX. Нарушать её -- значит тормозить
развитие, а это не есть хорошо.

Раньше было принято писать программы в одиночку, так как считалось,
что это намного быстрее, чем в команде. Но на самом деле, это не
так. Давайте рассмотрим простой пример. Кто быстрее сварит 10
литров супа: один повар или несколько? За одинаковое время. Конечно
же, несколько. Так же и здесь. И дело не только в быстроте, дело
в обмене опытом. Когда между собой взаимодействуют несколько
программистов, они учатся друг у друга, перенимают какие-то навыки,
приёмы. Это полезно как для самих программистов, так и для их
программы, ведь код становится более аккуратным, грамотным,
продуманным и надёжным. А писать красивый и понятный, а самое
главное - надёжный код сейчас, как я понял, очень немодно, вот и
появляются на свет всякие Ubuntu Linux...

Помимо этого, активно принимайте участие в жизни сообщества и
системы! Помогайте людям, отвечайте на вопросы, помогайте
разработчикам. Опять же -- это внесёт огромный вклад в развитие
дистрибутива.
